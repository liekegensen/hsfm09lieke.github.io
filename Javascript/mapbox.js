mapboxgl.accessToken = 'pk.eyJ1IjoibGlla2UxOCIsImEiOiJjam5yZDd0MnIwMW9wM3FzNXExMHJ6MG5nIn0.iyEfspnssHxzGdZDWa1_aA';

var map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/lieke18/ckfiat9ik0jqi19s2hfinjaup',
    hash: true,
    zoom: 9,
    center: [ 5.8, 52,8]
});

// inzoom en roteerfunctie.
map.addControl(new mapboxgl.NavigationControl());


// De routelijn op de kaart.
    map.on('load', function () {
        map.addSource('route', {
        'type': 'geojson',
        'data': {
        'type': 'Feature',
        'properties': {},
        'geometry': {
        'type': 'LineString',
        'coordinates': [
            [
                5.780181884765625,
                52.080771955691176
              ],
              [
                5.7946014404296875,
                52.06684451000508
              ],
              [
                5.8042144775390625,
                52.05080146285827
              ],
              [
                5.8124542236328125,
                52.0377094461007
              ],
              [
                5.820693969726562,
                52.03433023856414
              ],
              [
                5.829620361328125,
                52.03348539676983
              ],
              [
                5.8234405517578125,
                52.019120643633386
              ],
              [
                5.821380615234375,
                52.01616262168624
              ],
              [
                5.83648681640625,
                52.0094006941874
              ],
              [
                5.8612060546875,
                52.00094684771797
              ],
              [
                5.879058837890625,
                51.99291421446105
              ],
              [
                5.8921051025390625,
                51.98953162190704
              ],
              [
                5.898542404174805,
                51.98620163279276
              ],
              [
                5.901803970336914,
                51.98556732107839
              ],
              [
                5.905752182006836,
                51.98466869743802
              ],
              [
                5.90764045715332,
                51.98451011492399
              ],
              [
                5.910987854003906,
                51.984404392936035
              ],
              [
                5.91364860534668,
                51.98366433203297
              ],
              [
                5.915021896362305,
                51.98213130983506
              ],
              [
                5.915279388427734,
                51.97959377848912
              ],
              [
                5.915193557739257,
                51.97864216717502
              ],
              [
                5.913820266723633,
                51.97705610339705
              ],
              [
                5.9140777587890625,
                51.97631592108424
              ],
              [
                5.918025970458984,
                51.974835519772284
              ],
              [
                5.922060012817382,
                51.97192744621252
              ],
              [
                5.926694869995117,
                51.97129293235364
              ],
              [
                5.9319305419921875,
                51.97150443797158
              ],
              [
                5.942144393920898,
                51.9707641639412
              ],
              [
                5.950899124145508,
                51.971610190406174
              ],
              [
                5.953388214111328,
                51.97235045046026
              ],
              [
                5.9539031982421875,
                51.9730378238461
              ],
              [
                5.957765579223633,
                51.97441253898437
              ],
              [
                5.958538055419922,
                51.97584008313989
              ],
              [
                5.96034049987793,
                51.97689749393093
              ],
              [
                5.962228775024414,
                51.97784914230498
              ],
              [
                5.960941314697266,
                51.979223709824545
              ],
              [
                5.964889526367187,
                51.981179752425376
              ],
              [
                5.968666076660156,
                51.98355860804865
              ],
              [
                5.979137420654297,
                51.984034364013006
              ],
              [
                5.979480743408203,
                51.98942591177237
              ],
              [
                5.975704193115234,
                51.99471111282549
              ],
              [
                5.9745025634765625,
                51.995979468253324
              ],
              [
                5.983600616455078,
                51.9979876241961
              ],
              [
                5.9896087646484375,
                51.99967863301928
              ],
              [
                5.994415283203125,
                52.00189798516299
              ],
              [
                6.003513336181641,
                52.00453992757977
              ],
              [
                6.006689071655273,
                52.00580800454948
              ],
              [
                6.005144119262695,
                52.00739305023739
              ],
              [
                6.004629135131836,
                52.00876671109145
              ],
              [
                6.002655029296875,
                52.01035165199044
              ],
              [
                6.002655029296875,
                52.011778050803414
              ],
              [
                6.006002426147461,
                52.01394397686879
              ],
              [
                6.009349822998047,
                52.016532385125984
              ],
              [
                6.011753082275391,
                52.01864526044006
              ],
              [
                6.01201057434082,
                52.02086367212112
              ],
              [
                6.010379791259766,
                52.0222369194574
              ],
              [
                6.007547378540039,
                52.02392701214896
              ],
              [
                6.004543304443359,
                52.02545860348814
              ],
              [
                6.003255844116211,
                52.02588110221373
              ],
              [
                6.002397537231445,
                52.028574437762416
              ],
              [
                6.0060882568359375,
                52.03079235700698
              ],
              [
                6.0088348388671875,
                52.03216529950643
              ],
              [
                6.009778976440429,
                52.03385501701919
              ],
              [
                6.013898849487305,
                52.03475265347471
              ],
              [
                6.014499664306641,
                52.03707586414358
              ],
              [
                6.016216278076172,
                52.0400325031185
              ],
              [
                6.020421981811523,
                52.04188030317403
              ],
              [
                6.022825241088867,
                52.044467094923526
              ],
              [
                6.024112701416016,
                52.04605077108388
              ],
              [
                6.024799346923828,
                52.048637321460646
              ],
              [
                6.024370193481444,
                52.05154041396441
              ],
              [
                6.026515960693359,
                52.05396831012671
              ],
              [
                6.025228500366211,
                52.05518220873352
              ],
              [
                6.027975082397461,
                52.05713493293754
              ],
              [
                6.023082733154297,
                52.0590875717877
              ],
              [
                6.017332077026367,
                52.060037473339676
              ],
              [
                6.011495590209961,
                52.06167336754967
              ],
              [
                6.007375717163086,
                52.063836877548084
              ],
              [
                6.005830764770507,
                52.065156039527885
              ],
              [
                6.007547378540039,
                52.06869120149319
              ],
              [
                6.008491516113281,
                52.070537816613246
              ],
              [
                6.004972457885742,
                52.06863843993906
              ],
              [
                6.005144119262695,
                52.07064333517064
              ],
              [
                6.007633209228516,
                52.074283572700196
              ],
              [
                6.010122299194336,
                52.07787076279268
              ],
              [
                6.01252555847168,
                52.08145766464234
              ],
              [
                6.013898849487305,
                52.08319826312992
              ],
              [
                6.016817092895508,
                52.0866792564632
              ],
              [
                6.017332077026367,
                52.08826143640239
              ],
              [
                6.013469696044922,
                52.091003748742104
              ],
              [
                6.011495590209961,
                52.091952971438346
              ],
              [
                6.006431579589844,
                52.09379862442705
              ],
              [
                6.003856658935547,
                52.09553874159923
              ],
              [
                6.003084182739258,
                52.096751510399045
              ],
              [
                5.999565124511719,
                52.09733151860488
              ],
              [
                5.996217727661133,
                52.098755143137154
              ],
              [
                5.993900299072266,
                52.09838605965822
              ],
              [
                5.991153717041016,
                52.09896604661113
              ],
              [
                5.985660552978516,
                52.09859696487728
              ],
              [
                5.983257293701172,
                52.09864969102623
              ],
              [
                5.981197357177734,
                52.09759515620541
              ],
              [
                5.979051589965819,
                52.09833333319762
              ],
              [
                5.967979431152344,
                52.097067879446215
              ],
              [
                5.959653854370117,
                52.0968569669974
              ],
              [
                5.950899124145508,
                52.09796424622847
              ],
              [
                5.948839187622069,
                52.09596057796482
              ],
              [
                5.93536376953125,
                52.09696242334645
              ],
              [
                5.922574996948242,
                52.094062282906954
              ],
              [
                5.885410308837891,
                52.10276213862409
              ],
              [
                5.8797454833984375,
                52.10386927126938
              ],
              [
                5.873908996582031,
                52.10492365776056
              ],
              [
                5.876312255859375,
                52.11061691405333
              ],
              [
                5.872020721435547,
                52.11588779954734
              ],
              [
                5.867557525634766,
                52.1166256737882
              ],
              [
                5.8536529541015625,
                52.11124945321606
              ],
              [
                5.846099853515625,
                52.10850838536631
              ],
              [
                5.827732086181641,
                52.10102230322336
              ],
              [
                5.818805694580078,
                52.09743697383206
              ],
              [
                5.812110900878906,
                52.096487867812456
              ],
              [
                5.799579620361328,
                52.10007327348928
              ],
              [
                5.79254150390625,
                52.10112774972513
              ],
              [
                5.785331726074219,
                52.10292030211327
              ],
              [
                5.7781219482421875,
                52.101444087734635
              ],
              [
                5.7806968688964835,
                52.096171494651784
              ],
              [
                5.782928466796875,
                52.094589595192176
              ],
              [
                5.783100128173828,
                52.0917420348066
              ],
              [
                5.78155517578125,
                52.08942166603804
              ],
              [
                5.7794952392578125,
                52.0856244386714
              ],
              [
                5.779838562011719,
                52.081404918173945
              ],
              [
                5.780138969421387,
                52.08080492270872
              ],
        ]
        }
        }
        });
        map.addLayer({
        'id': 'route',
        'type': 'line',
        'source': 'route',
        'layout': {
        'line-join': 'round',
        'line-cap': 'round'
        },
        'paint': {
        'line-color': '#8B5C72',
        'line-width': 8
        }
        });
        });

    // markers.

map.on('load', function () {
    map.loadImage(
    'https://docs.mapbox.com/mapbox-gl-js/assets/custom_marker.png',
    // Add an image to use as a custom marker
    function (error, image) {
    if (error) throw error;
    map.addImage('custom-marker', image);
     
    map.addSource('places', {
    'type': 'geojson',
    'data': {
    'type': 'FeatureCollection',
    'features': [
    {
    'type': 'Feature',
    'properties': {
    'description':
    '<strong>Het Nationale Park De Hoge Veluwe</strong><p>Natuurgebied met edelherten, everzwijnen, heide, bossen, duinen en fiets- en wandelpaden.</p>'
    },
    'geometry': {
    'type': 'Point',
    'coordinates': [5.83162, 52.07878]
    }
    },
    {
    'type': 'Feature',
    'properties': {
    'description':
    '<strong>Nationaal Park Veluwezoom</strong><p>Bebost park waar je kunt paardrijden, wandelen, wilde dieren spotten en een bezoekerscentrum waar je fietsen kunt huren.</p>'
    },
    'geometry': {
    'type': 'Point',
    'coordinates': [6.01084, 52.04629]
    }
    },
    ]
    }
    });
     
    // markers
    map.addLayer({
    'id': 'places',
    'type': 'symbol',
    'source': 'places',
    'layout': {
    'icon-image': 'custom-marker',
    'icon-allow-overlap': true
    }
    });
    }
    );
     
    // Create a popup, but don't add it to the map yet.
    var popup = new mapboxgl.Popup({
    closeButton: false,
    closeOnClick: false
    });
     
    map.on('mouseenter', 'places', function (e) {
    // Change the cursor style as a UI indicator.
    map.getCanvas().style.cursor = 'pointer';
     
    var coordinates = e.features[0].geometry.coordinates.slice();
    var description = e.features[0].properties.description;
     
    // Ensure that if the map is zoomed out such that multiple
    // copies of the feature are visible, the popup appears
    // over the copy being pointed to.
    while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {
    coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;
    }
     
    // Populate the popup and set its coordinates
    // based on the feature found.
    popup.setLngLat(coordinates).setHTML(description).addTo(map);
    });
     
    map.on('mouseleave', 'places', function () {
    map.getCanvas().style.cursor = '';
    popup.remove();
    });
    });

    